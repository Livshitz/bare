@import (reference) "../variables.less";
@import (reference) "../atoms/index.less";

// Base layout component - uses stack for vertical layout
.layout {
  .stack;
  @apply t-min-h-screen t-gap-0;
}

.layout--full-height {
  @apply t-overflow-auto t-max-h-screen;
}

// Layout components
.layout-header {
  @apply t-w-full;
}

.layout--header-padding {
  @apply ~"t-pt-[4.5rem]";
}

.layout-header-fixed {
  @apply ~"t-fixed t-top-0 t-left-0 t-right-0 t-z-10 t-w-full t-h-[4.5rem]";
}

.layout-main {
  .layout--full-height;
  @apply ~"t-min-w-full t-flex-1 t-max-h-full";
}

.layout-footer {
  @apply t-w-full;
}

.layout-sidebar {
  @apply t-w-64 t-flex-shrink-0;
  .layout--full-height;
  position: sticky; top: 0;
}

.layout-nav {
  @apply t-w-full;
}

// Layout modifiers
.layout--centered {
  .center;
}

.layout--fullscreen {
  @apply t-min-h-screen;
}

.layout--fixed-header {
  > header {
    .layout-header-fixed;
  }
  
  > main {
    @apply ~"t-flex-1"; // Adjust based on header height
    .layout--header-padding;
  }
}

.layout--fixed-header.layout--no-header {
  > header {
    @apply t-hidden;
  }

  > main {
    @apply ~"t-pt-0 !important";
  }
}

.layout--sidebar-left {
  .row;
}

.layout--sidebar-right {
  .row-reverse;
}

.narrow {
  @apply t-max-w-7xl t-w-full t-mx-auto;
}

// Max width classes per breakpoint
.layout-max-xs {
  @apply ~"t-max-w-[@{breakpoint-xs}] t-min-w-[@{breakpoint-xs}] t-w-full t-mx-auto";
}

.layout-max-sm {
  @apply ~"t-max-w-[@{breakpoint-sm}] t-min-w-[@{breakpoint-xs}] t-w-full t-mx-auto";
}

.layout-max-md {
  @apply ~"t-max-w-[@{breakpoint-md}] t-min-w-[@{breakpoint-xs}] t-w-full t-mx-auto";
}

.layout-max-lg {
  @apply ~"t-max-w-[@{breakpoint-lg}] t-min-w-[@{breakpoint-xs}] t-w-full t-mx-auto";
}

.layout-max-xl {
  @apply ~"t-max-w-[@{breakpoint-xl}] t-w-full t-mx-auto";
}

// Responsive modifiers
@media (max-width: 599px) {
  .layout--stack {
    .stack;
    
    > .layout-sidebar {
      @apply t-w-full;
    }
  }
  
  .layout--hide-sidebar {
    > .layout-sidebar {
      @apply t-hidden;
    }
  }
} 